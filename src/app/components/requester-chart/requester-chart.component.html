<mat-icon
  class="cursor mt-4"
  routerLink="../../"
  style="position: relative; left: 30px;"
  >arrow_back</mat-icon
>

<div style="display: block;" class="chart-container">
  <mat-form-field
    *ngIf="filterKey ==='top10RequestersByDayAndHour'"
    appearance="outline"
    style="margin-left: 20px;"
  >
    <mat-label>Day</mat-label>
    <mat-select
      name="selectedDay"
      [(ngModel)]="selectedDay"
      (selectionChange)="prepareChartData()"
    >
      <mat-option [value]="item.id" *ngFor="let item of dayList"
        >{{ item.name }}</mat-option
      >
    </mat-select>
  </mat-form-field>
  <mat-form-field
    appearance="outline"
    *ngIf="filterKey ==='top10RequestersByDayAndHour'"
    style="margin-left: 20px;"
  >
    <mat-label>Hour</mat-label>
    <mat-select
      name="selectedHour"
      [(ngModel)]="selectedHour"
      (selectionChange)="prepareChartData()"
    >
      <mat-option [value]="item.value" *ngFor="let item of hoursList"
        >{{ item.name }}</mat-option
      >
    </mat-select>
  </mat-form-field>
  <canvas
    *ngIf="chartData && filterKey === 'top10RequestersByDay'"
    baseChart
    [datasets]="barChartData"
    [labels]="dayChartLabels"
    [options]="barChartOptions"
    [plugins]="barChartPlugins"
    [legend]="barChartLegend"
  >
  </canvas>
  <canvas
    *ngIf="chartData && filterKey === 'top10RequestersByHour'"
    baseChart
    [datasets]="barChartData"
    [labels]="hourChartLabels"
    [options]="barChartOptions"
    [plugins]="barChartPlugins"
    [legend]="barChartLegend"
  >
  </canvas>
  <canvas
    *ngIf="chartData&& filterKey === 'top10RequestersByDayAndHour'"
    baseChart
    [datasets]="barChartData"
    [labels]="dayChartLabels"
    [options]="barChartOptions"
    [plugins]="barChartPlugins"
    [legend]="barChartLegend"
  >
  </canvas>
</div>
