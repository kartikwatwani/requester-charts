<div
  style="display: block;"
  class="chart-container"
  [ngClass]="{'section':filterKey==='topRequestersByHour'|| filterKey==='topRequestersByDayAndHour'}"
>
  <div style="display: flex; flex-direction: column;">
    <h2>{{label}}</h2>
    <div style="display: flex;">
      <mat-form-field
        *ngIf="filterKey ==='topRequestersByDayAndHour'"
        appearance="outline"
        style="margin-left: 20px;"
      >
        <mat-label>Day</mat-label>
        <mat-select
          name="selectedDay"
          [(ngModel)]="selectedDay"
          (selectionChange)="prepareData()"
        >
          <mat-option [value]="item.id" *ngFor="let item of dayList"
            >{{ item.name }}</mat-option
          >
        </mat-select>
      </mat-form-field>
      <!-- <mat-form-field
        appearance="outline"
        *ngIf="filterKey ==='topRequestersByDayAndHour'"
        style="margin-left: 20px;"
      >
        <mat-label>Hour</mat-label>
        <mat-select
          name="selectedHour"
          [(ngModel)]="selectedHour"
          (selectionChange)="prepareChartData()"
        >
          <mat-option [value]="item.value" *ngFor="let item of hoursList"
            >{{ item.name }}</mat-option
          >
        </mat-select>
      </mat-form-field> -->
    </div>
  </div>
  <canvas
    *ngIf="chartDetail && filterKey === 'topRequestersByDay'"
    baseChart
    [datasets]="chartData"
    [labels]="dayChartLabels"
    [chartType]="chartType"
    [options]="chartOptions"
    [plugins]="barChartPlugins"
    [legend]="chartLegend"
  >
  </canvas>
  <canvas
    *ngIf="chartDetail && filterKey === 'topRequestersByHour'"
    baseChart
    [datasets]="chartData"
    [labels]="hourChartLabels"
    [options]="chartOptions"
    [plugins]="barChartPlugins"
    [chartType]="chartType"
    [legend]="chartLegend"
  >
  </canvas>
  <canvas
    *ngIf="chartDetail && filterKey === 'topRequestersByDayAndHour'"
    baseChart
    [datasets]="chartData"
    [labels]="hourChartLabels"
    [options]="chartOptions"
    [plugins]="barChartPlugins"
    [chartType]="chartType"
    [legend]="chartLegend"
  >
  </canvas>
  <mat-card *ngIf="filterKey === 'requestersDetail'">
    <div class="requesters-detail">
      <div class="d-flex justify-content-between">
        <h3>Top Day : {{productiveDay}}</h3>
        <h3>Top Hour : {{productiveHour}}</h3>
      </div>
      <ng-container *ngIf="(requestersReaction | json) != '{}'">
        <mat-divider></mat-divider>
        <h3 style="font-weight: 500;">Requerters Reaction</h3>
        <div class="d-flex justify-content-between flex-wrap">
          <ng-container *ngFor="let data of requestersReaction|keyvalue">
            <p *ngIf="data.key!=='key'">
              <span>{{data.key|uppercase}}</span> : {{data.value}}
            </p>
          </ng-container>
        </div>
      </ng-container>
      <ng-container *ngIf="(wageData | json) != '{}'">
        <mat-divider></mat-divider>
        <h3 style="font-weight: 500;">Requerters Wage</h3>
        <div>
          <p><span>Minimum Wage</span> : {{wageData.min | number : ".2-2" }}</p>
          <p>
            <span>Average Wage</span> : {{wageData.wageRate | number : ".2-2" }}
          </p>
          <p><span>Maximum Wage</span> :{{ wageData.max | number : ".2-2" }}</p>
        </div>
      </ng-container>
    </div>
  </mat-card>
</div>
